# ✔자바스크립트

> 브라우저 화면을 **동적**으로 만들기 위하여 사용함
>
> 동적으로 콘텐츠를 바꾸고, 멀티미디어를 제어하고, 애니메이션을 추가하는 등을 동작할 수 있음
>
> 브라우저를 조작할 수 있는 유일한 언어



## 자바스크립트 로딩 전략

> HTML은 순서대로 요소를 불러오기 때문에 scripts를 불러올 때 많은 문제가 발생할 수 있음
>
> 아래는 그 해결 방법들

### Internal

- **`DOMContentLoded`** 사용

  ```javascript
  document.addEventListener('DOMContentLoaded', () => { ... })
  ```

  `DOMContentLoaded`는 HTML의 `body`가 모두 load 되었을 때 일어나는 이벤트로,

  이 블럭 내부의 자바스크립트는 이 이벤트가 발생하기 전에는 실행되지 않으므로 오류를 예방할 수 있다.

  

### External

- **`defer`**

  ```html
  <script defer src="script.js"></script>
  ```

  - `<script>`태그에 도달하면 스크립트와 HTML을 동시에 불러옴
  - HTML의 모든 콘텐츠를 모두 불러온 이후에 스크립트를 실행함

  - 스크립트가 페이지 내에 **배치한 순서대로** 불러옴

    => 페이지 요소를 수정하거나 추가하는 등 DOM 작업을 하는 스크립트에 유용함

- **`async`**

  ```html
  <script async src="script.js"></script>
  ```

  - 스크립트를 가져오는 동안 별도 스레드에서 불러오므로 페이지 로딩을 중단하지 않음

  - 하지만 스크립트 **다운로드가 끝나면 즉시 실행**되는데, 실행 도중에는 페이지 렌더링이 중단됨

    => 스크립트의 **실행 순서를 보장할 수 없음**

    => 따라서 다른 스크립트에 의존하지 않는 독립 스크립트에 사용해야 함

  ```html
  <script async src="js/vendor/jquery.js"></script>
  
  <script async src="js/script2.js"></script>
  
  <script async src="js/script3.js"></script>
  ```

  - 위 코드로는 스크립트가 HTML 순서대로  `jquery.js` > `script2.js` > `script3.js` 로 불러와 질 것이라고 예측할 수 없음

  - 만약 `script2.js`와 `script3.js`가 `jquery.js`에 의존하는 스크립트라면 오류가 발생할 수 있음

![](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript/async-defer.jpg)



