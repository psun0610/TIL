# 서버 사이드 렌더링(SSR) vs 클라이언트 사이드 렌더링(CSR)

전에 프로젝트를 하면서 강사님께서 간단하게 설명하고 넘어갔던 적이 있어서 확실하게 알아보고자 찾아보았다.

&nbsp;

## 브라우저 렌더링이란❓

브라우저가 서버에게 요청해 받은 내용을 브라우저 화면에 표시하는 것이다.

브라우저가 서버로부터 HTML, CSS, JavaScript 문서를 받아 와서 브라우저 엔진이 문서를 해석하여 브라우저 화면에 그려준다.

브라우저 렌더링은 크게 **클라이언트 사이드 렌더링**과 **서버 사이드 렌더링** 방식으로 나누어진다.

&nbsp;

## ◻ 서버 사이드 렌더링(SSR)

웹 사이트에 접속하면 서버에서 필요한 데이터를 모두 가져와서 HTML 파일을 만들고, 만들어진 HTML을 브라우로 다시 보낸다. 브라우저는 서버에서 받아온 HTML 문서를 사용자에게 바로 보여준다.

&nbsp;

### 장점

첫 페이지 로딩 속도가 CSR보다 빠르다. 해당 페이지의 문서만 브라우저에 전달하기 때문이다. 하지만 초기 로딩 이후 페이지 이동 시 속도는 CSR이 더 빠르다. SSR은 페이지를 이동할 때마다 서버에 다시 요청해야 하기 때문이다.

또한 검색엔진 최적화(SEO)가 가능하다.

### 단점

이러한 방식은 사용자가 새로고침을 하거나 다른 페이지로 이동할 때마다 전체 페이지를 다시 서버에서 받아 오기 때문에 화면이 부드럽지 못하고 깜빡인다.

또한 서버에 계속되는 데이터 요청으로 과부하가 걸리기 쉽다.

마지막으로 큰 단점은 TTV와 TVI간의 공백이 생긴다.

TTV(Time To View)는 사용자가 사이트를 볼 수 있는 시간, 즉 화면에 HTML이 띄워지는 시간이다.

TTI(Time To Interact)는 실제로 사용자가 인터렉션이 가능한 시간이다.

SSR 방식은 서버에서 만들어진 HTML 파일을 가져오게 되고 사용자는 바로 웹 사이트를 볼 수 있다. 하지만 자바스크립트 파일은 아직 받아오지 않았기 때문에 사용자가 클릭을 해도 아무것도 처리할 수 없다. 화면에 HTML로 그려진 웹 사이트가 띄워진 이후 최종적으로 자바스크립트 파일까지 모두 받아와야지만 사용자가 원하는 것을 처리할 수 있다.

&nbsp;

## ◻ 클라이언트 사이드 렌더링(CSR)

CSR은 SPA 트렌드 + CPU 성능 상승 + JS 표준화(프레임워크의 발전)과 함께 본격적으로 시작되었다.

> 📌**SPA** (Single Page Application)
>
> 최초 한 번 페이지 전체를 로딩한 후 데이터만 변경하여 사용할 수 있는 애플리케이션
>
> Single Page지만 화면에 따라 다른 주소를 가진다. 주소에 따라 다른 View를 렌더링 하는 것을 **라우팅 **이라고 한다.

CSR은 말 그대로 클라이언트가 렌더링을 모두 처리하는 방식이다.

브라우저는 자바스크립트에 대한 링크가 있는 빈 문서를 제공하고 이를 브라우저에서 렌더링한다.

서버에 첫 요청 시 서버에서 클라이언트에게 필요한 모든 문서를 넘겨 받고, 사용자가 요청할 때마다 필요한 부분만 다시 읽어 들인다. 서버는 단지 JSON 파일만 보내주고, HTML을 그리는 역할은 자바스크립트를 통해 클라이언트 측에서 수행한다.

검색하다가 CSR에 대한 완벽한 비유를 발견해서 한 번 써본다.

*슈퍼에 차를 몰고 갈 때 CSR을 사용하면 일주일 간 필요한 모든 음식을 사기 위해 한 번만 방문해도 된다.*

*그러면 배고플 때마다 냉장고를 열기만 하면 된다.*

&nbsp;

### 장점

서버 트래픽을 감소시켜 사용자에게 네이티브 앱과 비슷한 더 나은 경험을 제공한다. 필요한, 변경된 데이터만 받아서 화면에 그리기 때문이다.

또한 위에서 말했던 TTV, TTI의 공백이 없다.

### 단점

검색엔진 최적화(SEO)에 대한 추가 보완 작업이 필요하다.

포털 사이트 검색엔진 크롤러가 웹사이트에 대한 데이터를 제대로 수집하지 못하는 경우가 발생할 수 있다.

구글의 검색엔진은 자바스크립트 엔진이 내장되어 있어 크롤링이 되지만 네이버, 다음의 검색엔진은 제대로 크롤링하지 못하기 때문에 별도의 보완작업이 필요하다. (ex. sitemap 문서 작성)

이러한 현상은 CSR에서 사용되어지는 HTML의 바디는 자바스크립트 소스만 띄워놓고 텅텅 비어있기 때문이다. 따라서 자바스크립트 엔진이 작동하지 않으면 검색엔진에서 CSR로 작성된 웹페이지를 분석하는 데 어려움을 겪을 수 밖에 없다. 아무것도 없으니까

> 📌**Sitemap**
>
> 사용자 혹은 크롤러가 웹사이트를 이용할 때 웹사이트의 접근 가능한 페이지의 목록
>
> 웹사이트의 웹페이지를 계층적으로 분류한 목록으로, 해당 웹사이트를 구성하고 있는 전체 구조를 보여준다.
>
> 이는 사용자나 검색엔진이 자신들이 찾고자 하는 웹페이지를 찾을 수 있도록 도움을 준다.

&nbsp;

## SSR, CSR은 언제 사용하면 좋을까?

- 동적 컨텐츠 로딩

  - 서버는 높은 컴퓨팅 성능, 더 빠른 네트워킹 속도를 가진 시스템에 위치한다. (클라이언트보다 서버가 컴퓨팅 성능이 더 좋다는 뜻) 따라서 **동적 컨텐츠 렌더링이 반복되는 경우 SSR**이 더 나은 선택이다.

- 웹 앱 UX & 사이트 UX

  > 📌웹앱과 웹사이트
  >
  > 웹앱과 웹사이트는 각각 다른 형식의 웹 컨텐츠이다.
  >
  > 웹앱은 사용자가 데이터 입력, 보고서 생성 등 더 많은 상호 작용이 필요하다.
  >
  > 반면 웹사이트는 단순히 정보를 제공하는 페이지다.

  - CSR은 각 클릭이 너무 오래 걸리지 않도록 하는 데 도움이 될 수 있어 웹앱에 가장 적합하다.
  - SSR은 검색 엔진 봇에 대한 올바른 메타데이터를 보장하기 때문에 웹사이트에서 사용할 때 CSR보다 훨씬 좋다.